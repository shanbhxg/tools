<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Software Tool Management</title>
    <!-- <script src="./form.js"></script> -->

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./css/form.css">
</head>

<body>
    <!-- Navigation Bar -->
    <div class="header_nav p-4 bg-black/60 sm:min-w-[29rem] sm:min-h-[8rem]">
        <div class="headernav_inner_contents">
            <div class="dz-page-header-content-type-text dz-text">RTX Enterprise
                <ul class="nav justify-content-end">
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="home.html">Home</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link active" href="form.html">Add</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="view.html">View</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link " href="login.html">Logout</a>
                    </li>
                </ul>

            </div>
            <div class="dz-page-header-title headernav_inner_contents2">
                Pratt Whitney Tool Support
            </div>
        </div>
    </div>


    <!-- Body Form -->
    <div class="main_body ">
        <div>

            
            <div class="appForm">
                <form onsubmit="return validateForm()" method="POST" class="form" id="dataform">
                    <div id="full">
                        <div id="left" class="">
                            <div class="form-group ">
                                <label>S/W Application:</label>
                                <input type="text" id="swApplication" name="swApplication" required>
                            </div>

                            <div class="form-group ">
                                <label>Team:</label><br>

                                <input type="checkbox" class="btn-check btn-info" id="EDSI-CORE" name="installation"
                                    value="EDSI-CORE" autocomplete="off">
                                <label class="btn btn-outline-secondary chkbx" for="EDSI-CORE">EDSI-CORE</label>

                                <input type="checkbox" class="btn-check" id="EDSI-EDSC" name="installation"
                                    value="EDSI-EDSC" autocomplete="off">
                                <label class="btn btn-outline-secondary chkbx" for="EDSI-EDSC">EDSI-EDSC</label>

                                <input type="checkbox" class="btn-check" id="ASE,CSE" name="installation"
                                    value="ASE,CSE" autocomplete="off">
                                <label class="btn btn-outline-secondary chkbx" for="ASE,CSE">ASE,CSE</label>


                                <input type="checkbox" class="btn-check btn-info" id="MSEN" name="installation"
                                    value="MSEN" autocomplete="off">
                                <label class="btn btn-outline-secondary chkbx" for="MSEN">MSEN</label><br>

                                <input type="checkbox" class="btn-check" id="EDSI-CE" name="installation"
                                    value="EDSI-CE" autocomplete="off">
                                <label class="btn btn-outline-secondary chkbx" for="EDSI-CE">EDSI-CE</label>

                                <input type="checkbox" class="btn-check btn-info" id="ASE,ESTO" name="installation"
                                    value="ASE,ESTO" autocomplete="off">
                                <label class="btn btn-outline-secondary chkbx" for="ASE,ESTO">ASE,ESTO</label>

                                <input type="checkbox" class="btn-check" id="ASE" name="installation" value="ASE"
                                    autocomplete="off">
                                <label class="btn btn-outline-secondary chkbx" for="ASE">ASE</label>

                                <input type="checkbox" class="btn-check btn-info" id="ENDO" name="installation"
                                    value="ENDO" autocomplete="off">
                                <label class="btn btn-outline-secondary chkbx" for="ENDO">ENDO</label>

                                <input type="checkbox" class="btn-check" id="ESTO" name="installation" value="ESTO"
                                    autocomplete="off">
                                <label class="btn btn-outline-secondary chkbx" for="ESTO">ESTO</label>



                            </div>

                            <div class="form-group">
                                <label>Domain:</label>
                                <input type="text" id="domain" name="domain" required>
                            </div>

                            <div class="form-group">
                                <label>Need Date:</label>
                                <input type="date" id="needDate" name="needDate" required>
                            </div>

                            <div class="form-group">
                                <label>Application:</label>
                                <input type="text" id="Application" name="Application" required>
                            </div>

                            <div class="form-group">
                                <label>Purpose:</label>
                                <input type="text" id="purpose" name="purpose" required>
                            </div>
                        </div>


                        <div id="right" class="">
                            <div class="form-group">
                                <label>Version:</label>
                                <input type="text" id="version" name="version" required>
                            </div>

                            <div class="form-group">
                                <label>Software Type:</label><br>
                                <select id="swType" name="swType" required>
                                    <option value="">Select Software Type</option>
                                    <option value="Commercial">Commercial</option>
                                    <option value="Open Source">Open Source</option>
                                    <option value="PW Internal">PW Internal</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>S/W Installation Type:</label><br>

                                <input type="checkbox" class="btn-check chkbx" id="catalog" name="swInstallation"
                                    value="Catalog" autocomplete="off">
                                <label class="btn btn-outline-secondary" for="catalog">Catalog</label>

                                <input type="checkbox" class="btn-check btn-info chkbx" id="nonCatalog"
                                    name="swInstallation" value="Non-Catalog" autocomplete="off">
                                <label class="btn btn-outline-secondary" for="nonCatalog">Non-Catalog</label>

                            </div>

                            <div class="form-group">
                                <label>Installation:</label><br>
                                <input type="checkbox" class="btn-check chkbx" id="eVDI" name="installation"
                                    autocomplete="off" value="eVDI">
                                <label class="btn btn-outline-secondary" for="eVDI">eVDI</label>

                                <input type="checkbox" class="btn-check btn-info chkbx" id="MWS" name="installation"
                                    value="MWS" autocomplete="off">
                                <label class="btn btn-outline-secondary" for="MWS">MWS</label>

                            </div>

                            <div class="form-group">
                                <label>License:</label><br>

                                <input type="checkbox" class="btn-check chkbx" id="global" name="license" value="Global"
                                    name="installation" autocomplete="off">
                                <label class="btn btn-outline-secondary" for="global">Global</label>

                                <input type="checkbox" class="btn-check btn-info chkbx" id="local" name="license"
                                    value="Local" autocomplete="off">
                                <label class="btn btn-outline-secondary" for="local">Local</label>

                                <input type="checkbox" class="btn-check chkbx" id="global/local" name="license"
                                    value="Global/Local" autocomplete="off">
                                <label class="btn btn-outline-secondary" for="global/local">Global/Local</label>

                                <input type="checkbox" class="btn-check btn-info chkbx" id="iecAccess" name="license"
                                    value="IEC Access" autocomplete="off">
                                <label class="btn btn-outline-secondary" for="iecAccess">IEC Access</label>

                            </div>

                            <div class="form-group">

                                <div class="mb-3">
                                    <label for="exampleFormControlTextarea1" class="form-label">Comments:</label>
                                    <textarea class="form-control" id="exampleFormControlTextarea1" rows="4"
                                        placeholder="Additional comments"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn-primary btn_submit text-center">Submit</button>
            </div>

            </form>
        </div>
    </div>

    <script>
        var fs = require('fs');
        const path = require('path');
        
        document.getElementById('dataform').addEventListener('submit', (event) => {
            event.preventDefault(); 
        
            const SWApp = document.getElementById('swApplication').value;
            const domain = document.getElementById('domain').value;
            
        
            if (SWApp.trim() === '' || domain.trim() === '') {
                alert('Please fill out both location and data fields.');
                return;
            }
        
            const newData = {
                SWApplication:SWApp,
                domain:domain
            };
            console.log("Yes")
            const filePath = path.join(__dirname, 'data.json');
        
            fs.writeFile("test.txt", newData, function(err) {
                if (err) {
                    console.log(err);
                }
                });
            fs.readFile(filePath, 'utf-8', (err, fileData) => {
                if (err) {
                    alert('Error reading file:', err);
                    return;
                }
        
                let json = [];
                if (fileData) {
                    try {
                        json = JSON.parse(fileData);
                    } catch (parseError) {
                        alert('Error parsing JSON:', parseError);
                        return;
                    }
                }
        
                json.push(newData);
        
                fs.writeFile(filePath, JSON.stringify(json), 'utf-8', (writeErr) => {
                    if (writeErr) {
                        alert('Error writing to file:', writeErr);
                        return;
                    }
                    alert('Data submitted successfully!');
                });
            });
        });
        
        
        
        
        
    </script>


</body>

</html>
